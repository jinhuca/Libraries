<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="Shared.xaml"/>
  </ResourceDictionary.MergedDictionaries>

  <ControlTemplate x:Key="GroupBoxTemplate" TargetType="GroupBox">
    <Grid SnapsToDevicePixels="True">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="6" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="6" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
        <RowDefinition Height="6" />
      </Grid.RowDefinitions>
      <Border BorderThickness="{TemplateBinding Border.BorderThickness}"
              BorderBrush="{StaticResource Brush_Border_Normal}" 
              Background="{TemplateBinding Background}" 
              Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="4" Grid.RowSpan="3"/>
      <ContentPresenter Content="{TemplateBinding ContentControl.Content}" 
                        ContentTemplate="{TemplateBinding ContentControl.ContentTemplate}" 
                        ContentStringFormat="{TemplateBinding ContentControl.ContentStringFormat}" 
                        Margin="{TemplateBinding Control.Padding}" 
                        SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" 
                        Grid.Column="1" Grid.Row="2" Grid.ColumnSpan="2" />
      
      <Border Padding="5,0,5,0" Name="Header" Grid.Column="1" Grid.Row="0" Grid.RowSpan="2"
              Background="{StaticResource Brush_Background_Normal}">
        <ContentPresenter RecognizesAccessKey="True" 
                          Content="{TemplateBinding HeaderedContentControl.Header}" 
                          ContentTemplate="{TemplateBinding HeaderedContentControl.HeaderTemplate}" 
                          ContentStringFormat="{TemplateBinding HeaderedContentControl.HeaderStringFormat}" 
                          ContentSource="Header" 
                          SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
      </Border>
    </Grid>
  </ControlTemplate>

  <Style TargetType="{x:Type GroupBox}">
    <Setter Property="Template" Value="{StaticResource GroupBoxTemplate}"/>
    <Setter Property="BorderBrush" Value="{StaticResource Brush_Border_Normal}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Foreground" Value="{StaticResource Brush_Foreground_Normal}"/>
  </Style>
</ResourceDictionary>