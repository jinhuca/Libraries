<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="Shared.xaml"/>
    <ResourceDictionary Source="ScrollViewer.xaml"/>
  </ResourceDictionary.MergedDictionaries>

  <ControlTemplate x:Key="TextBoxTemplate" TargetType="TextBox">
    <ControlTemplate.Resources>
      <Storyboard x:Key="Hovering">
        <ColorAnimation Storyboard.TargetName="theBorderBrush"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Border_MouseOver}"
                        Duration="0"/>
        <ColorAnimation Storyboard.TargetName="theBorderBackground"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Background_MouseOver}"
                        Duration="0"/>
      </Storyboard>
      <Storyboard x:Key="Focusing">
        <ColorAnimation Storyboard.TargetName="theBorderBrush"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Border_Focused}"
                        Duration="0"/>
        <ColorAnimation Storyboard.TargetName="theBorderBackground"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Background_Focused}"
                        Duration="0"/>
      </Storyboard>
      <Storyboard x:Key="Disabling">
        <ColorAnimation Storyboard.TargetName="theBorderBrush"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Border_Disable}"
                        Duration="0"/>
        <ColorAnimation Storyboard.TargetName="theBorderBackground"
                        Storyboard.TargetProperty="Color"
                        To="{StaticResource Color_Background_Disable}"
                        Duration="0"/>
      </Storyboard>
    </ControlTemplate.Resources>
    <Border x:Name="Border" Opacity="1" CornerRadius="1" BorderThickness="1">
      <Border.BorderBrush>
        <SolidColorBrush x:Name="theBorderBrush" Color="{StaticResource Color_Border_Normal}"/>
      </Border.BorderBrush>
      <Border.Background>
        <SolidColorBrush x:Name="theBorderBackground" Color="{StaticResource Color_Background_Normal}"/>
      </Border.Background>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal"/>
          <VisualState x:Name="MouseOver" Storyboard="{StaticResource Hovering}"/>
          <VisualState x:Name="Disabled" Storyboard="{StaticResource Disabling}"/>
          <VisualState x:Name="ReadOnly"/>
        </VisualStateGroup>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Focused" Storyboard="{StaticResource Focusing}"/>
          <VisualState x:Name="Unfocused"/>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ValidationStates">
          <VisualState x:Name="Valid"/>
          <VisualState x:Name="InvalidFocused"/>
          <VisualState x:Name="InvalidUnfocused"/>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      
      <ScrollViewer Margin="0" x:Name="PART_ContentHost" Style="{DynamicResource ScrollViewer}"/>
    </Border>
  </ControlTemplate>

  <Style TargetType="TextBox">
    <Setter Property="Template" Value="{StaticResource TextBoxTemplate}"/>
    <Setter Property="KeyboardNavigation.TabNavigation" Value="None"/>
    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
    <Setter Property="AllowDrop" Value="true"/>
    <Setter Property="Foreground" Value="{StaticResource Brush_Foreground_Normal}"/>
  </Style>

</ResourceDictionary>